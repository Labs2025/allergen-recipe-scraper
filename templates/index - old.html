<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Allergen‑Safe Recipe Finder</title>
  <!--  Bootstrap 5  -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!--  Custom styles  -->
  <link rel="stylesheet" href="/static/css/style.css" />

  <!--  Custom high‑contrast variables (fallbacks for prefers‑color‑scheme)  -->
  <style>
    :root {
      /* Accessible colour palette  */
      --bs-body-bg: #f8f9fa;           /* light grey */
      --bs-body-color: #212529;        /* near‑black */
      --bs-primary: #0d6efd;           /* Bootstrap blue (AA contrast)*/
      --bs-card-bg: #ffffff;
      --bs-card-color: #212529;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bs-body-bg: #121212;
        --bs-body-color: #e9ecef;
        --bs-card-bg: #1f1f1f;
        --bs-card-color: #e9ecef;
      }
      .card {
        border-color: #2f2f2f;
      }
    }

    body {
      background-color: var(--bs-body-bg);
      color: var(--bs-body-color);
    }

    /* Skip link – visible on focus only */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: #0d6efd;
      color: #fff;
      padding: .5rem 1rem;
      text-decoration: none;
      z-index: 100;
      transition: top .3s;
    }
    .skip-link:focus {
      top: 0;
    }
  </style>
 
 
  <!--  Favicon (placeholder)  -->
  <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon" />
</head>
<body class="container-xxl py-4">

  <!-- Skip to content for keyboard/screen‑reader users -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <header class="mb-4 text-center" role="banner">
    <h1 class="display-5 fw-semibold">Allergen‑Safe Recipe Finder</h1>
    <p class="lead mb-0">Search thousands of scraped recipes &mdash; filter out any of the 14 major allergens.</p>
  </header>

  <!--  Main search & filter panel  -->
  <main id="main-content" tabindex="-1">
    <section aria-labelledby="search-heading" class="mb-4">
      <h2 id="search-heading" class="h4 visually-hidden">Filter panel</h2>
      <div class="row g-3 align-items-end">
        <div class="col-12 col-md-6">
          <label for="searchBox" class="form-label">Keyword (optional)</label>
          <input id="searchBox" class="form-control" type="search" aria-describedby="searchBoxHelp" placeholder="e.g. lasagna" />
          <div id="searchBoxHelp" class="form-text">Leave blank to browse.</div>
        </div>
        <div class="col-auto">
          <button id="searchBtn" class="btn btn-primary d-block" type="button">
            <span class="visually-hidden">Start search</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16" aria-hidden="true"><path d="M11.742 10.344a6.5 6.5 0 111.397-1.398h-.001l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85zm-5.242 1.5a5 5 0 100-10 5 5 0 000 10z"/></svg>
          </button>
        </div>
      </div>
    </section>

    <!-- Checkbox grid -->
    <section aria-labelledby="allergen-heading" class="mb-4">
      <h2 id="allergen-heading" class="h4">Allergens to exclude</h2>
      <div id="allergenCheckboxes" class="row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 g-2"></div>
    </section>

    <hr aria-hidden="true" />

    <!-- Results region -->
    <section aria-labelledby="results-heading">
      <h2 id="results-heading" class="h4">Results</h2>
      <!-- aria‑live region announces updates to screen readers -->
      <div id="results-status" class="visually-hidden" aria-live="polite"></div>
      <div id="results" class="row gy-4"></div>
    </section>
  </main>

  <!--  Bootstrap JS bundle (needed for some components)  -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!--  Front‑end logic  -->
  <script src="/static/main.js" defer></script>
</body>
</html>
